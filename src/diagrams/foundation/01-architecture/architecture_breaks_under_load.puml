@startuml
skinparam rectangleBorderThickness 2
skinparam shadowing false

package "Multiple Smaller Machines" {
  node "App Server" as AS_small
  node "App Server" as AS_beefy1
  node "App Server" as AS_beefy2
  node "App Server" as AS_beefy3
  node "App Server" as AS_beefy4
  node "App Server" as AS_beefy5
}
  

package "One Beefy Machine" {
 database "DB" as DB #FFE6E6 
}

package "One Beefy Machine" {
 database "DB Read Replica" as DBR #FFE6E6
}

AS_small --> DB
AS_small --> DBR


note top of AS_small #FFCCCC
**ASSUMPTIONS BREAK!**
Response Time SLA: >500ms ⚠️
end note

note bottom of DBR #FFCCCC
DB Read Replica: >100ms ⚠️
Performance degradation
end note

note as ConnectionTable
**Connection Explosion:**
| Application | Connections | Total      |
| Instances   | per instance| Connections|
|-------------|-------------|------------|
| 1           | 50          | 50         |
| 5           | 50          | 250        |
| 100         | 50          | 5000??     |
end note

ConnectionTable --> DB : Overwhelming connections
@enduml 